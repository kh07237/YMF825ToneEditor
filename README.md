# YMF825 ToneEditor
 Ver. 0.1
## 機能概要
  - Raspberry Piに接続したFM音源YMF825ボードの音色パラメータをGUIで編集する。
  - 編集した音色でテスト音発音
  - 音色定義ファイルから音色名を指定して読み込み
  - 音色に名前を付けて保存  


## 構造
### python側
GUIで各パラメータを編集します。49バイトのシステムエクスクルーシブメッセージMIDIデータを作成し、ソケット通信によりC言語側へ送信します。また、テスト音を再生するためのMIDIメッセージを送信します。
### C言語側
ソケット通信によりMIDIデータを受け取り、YMF825へ送ります。MIDIデータの受け渡しはYMAHA提供サンプルのFmdriver_sendMidi関数をそのままコールしています。  
python側とC言語側はソケット通信を行っているため、以下のいずれの方法でも使用可能です。
- PCからネットワーク経由で動作させる
- Raspberry Piにモニター、キーボード、マウスを接続して単体で動作させる



## ソースファイルの説明
| ファイル名 | 役割         | 
| ------------------------ | ---------------------------- | 
| <python側>
| tone_dic_edit.py |GUIメインプログラム  
| tone_dic.py |音色パラメータを辞書形式で保持、音色データファイルからのロード、セーブ、システムエクスクルーシブ送信、ソケット通信クライアントはサーバーへMIDIデータを送信する。
| algo*.png | GUIへ表示するためのアルゴリズム説明図
|  <C言語側>
| server.c | ソケット通信サーバー。クライアントから受信したMIDIデータをfmifへ送信する。
| fmif.c | YMF825へMIDIデータを送信する。
| makefile | メイクファイル

## C言語側ビルド方法
```
$ make ymf825srv
```
## C言語側サーバープログラムの起動
```
$ sudo ./ymf825srv
```

